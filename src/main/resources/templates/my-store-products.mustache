{{>layout/header}}
<main>
    <div class="container">
        <section>
            <ul class="list-inline">
                <li class="list-inline-item h1 text-primary">{{store.name}} </li>
                <li class="list-inline-item h1">상품관리</li>
            </ul>
        </section>
        <section>
            <div class="row">
                <div>
                    <h3>👇 상품 목록</h3>
                </div>
                {{^products}}
                    <div class="row">
                        <h3 class="text-center">없다면 지금 만들어보세요.</h3>
                    </div>
                {{/products}}
                {{#products}}
                    <div class="card m-3" style="width: 18rem;" id="myCard">
                        <img src="" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title" id="cardProductName">{{name}}</h5>
                            <p class="card-text" id="cardProductInfo">{{info}}</p>
                            <div class="d-none" id="cardStoreId">{{store.id}}</div>
                            <div class="d-none" id="cardProductId">{{id}}</div>
                        </div>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item text-end" id="cardProductPrice">
                                <span>{{price}}</span>
                                <p> 원</p>
                            </li>
                        </ul>
                        <div class="card-body">
                            <button class="btn btn-dark" onclick="openUpdateModal(this)">수정</button>
                            <button class="btn btn-danger" onclick="openDeleteModal(this)">삭제</button>
                        </div>
                    </div>
                {{/products}}
                <div class="modal fade" id="updateProductModal" tabindex="-1" aria-labelledby="updateProductModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="updateProductModalLabel">상품 수정하기</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="d-none" id="updateStoreId"></div>
                                <div class="d-none" id="updateProductId"></div>
                                <div class="mb-3">
                                    <label for="updateProductNameForm" class="form-label">상품명</label>
                                    <textarea class="form-control" id="updateProductNameForm"></textarea>
                                </div>
                                <div class="mb-3">
                                    <label for="updateProductInfoForm" class="form-label">상품 설명</label>
                                    <textarea class="form-control" id="updateProductInfoForm" rows="3"></textarea>
                                </div>
                                <div class="mb-3">
                                    <label for="updateProductPriceForm" class="form-label">상품 가격</label>
                                    <input type="text" id="updateProductPriceForm" min="0"
                                           onkeyup="inputNumberFormat(this)"/>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                                <button type="button" class="btn btn-primary" onclick="doUpdateProduct()">수정</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="deleteProductModal" tabindex="-1" aria-labelledby="deleteProductModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="deleteProductModalLabel">상품 삭제하기</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="d-none" id="deleteStoreId"></div>
                                <div class="d-none" id="deleteProductId"></div>
                                <p>상품을 삭제하시겠습니까?</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                                <button type="button" class="btn btn-primary" onclick="doDeleteProduct()">삭제</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="row mt-3 justify-content-center align-self-center">
                <button type="button" class="col-4 btn btn-primary m-5" data-bs-toggle="modal"
                        data-bs-target="#createProductModal">상품 등록하기
                </button>
                <div class="modal fade" id="createProductModal" tabindex="-1" aria-labelledby="createProductModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="createProductModalLabel">상품 등록하기</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <span class="visually-hidden" id="storeId">{{store.id}}</span>
                                <div class="mb-3">
                                    <label for="productNameForm" class="form-label">상품명</label>
                                    <textarea class="form-control" id="productNameForm"></textarea>
                                </div>
                                <div class="mb-3">
                                    <label for="productInfoForm" class="form-label">상품 설명</label>
                                    <textarea class="form-control" id="productInfoForm" rows="3"></textarea>
                                </div>
                                <div class="mb-3">
                                    <label for="productPriceForm" class="form-label">상품 가격</label>
                                    <input type="text" id="productPriceForm" min="0" onkeyup="inputNumberFormat(this)"/>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                                <button type="button" class="btn btn-primary" onclick="doCreateProduct()">개설</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>
<script src="/js/products.js"></script>
{{>layout/footer}}